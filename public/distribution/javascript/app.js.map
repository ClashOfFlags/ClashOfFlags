{"version":3,"sources":["node_modules/browser-pack/_prelude.js","public/sources/javascript/Services/Creator.js","public/sources/javascript/Services/InputService.js","public/sources/javascript/Services/NetworkService.js","public/sources/javascript/Services/ObjectsService.js","public/sources/javascript/Services/PathService.js","public/sources/javascript/Services/Preloader.js","public/sources/javascript/States/GameState.js","public/sources/javascript/States/State.js","public/sources/javascript/factories/AbstractFactory.js","public/sources/javascript/factories/Builder.js","public/sources/javascript/factories/PlayerFactory.js","public/sources/javascript/index.js","public/sources/javascript/objects/sprites/Bullet.js","public/sources/javascript/objects/sprites/Flag.js","public/sources/javascript/objects/sprites/Hero.js","public/sources/javascript/objects/sprites/Player.js","public/sources/javascript/objects/sprites/Sprite.js","public/sources/javascript/objects/sprites/TestCup.js","public/sources/javascript/objects/values/Team.js","public/sources/javascript/objects/values/Weapon.js","public/sources/javascript/objects/values/direction.js","public/sources/javascript/services/TeamManager.js","public/sources/javascript/setup/Bootstrapper.js","public/sources/javascript/setup/config.js"],"names":[],"mappings":"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","file":"app.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import Team from './../objects/values/Team';\r\nimport config from './../setup/config';\r\nimport Flag from './../objects/sprites/Flag';\r\n\r\nexport default class Creator {\r\n\r\n    constructor(game, $container) {\r\n        this.game = game;\r\n        this.$container = $container;\r\n\r\n        this.objects = this.$container.ObjectsService;\r\n        this.playerFactory = this.$container.PlayerFactory;\r\n\r\n        this.teamManager = $container.TeamManager;\r\n\r\n    }\r\n\r\n    run() {\r\n        this.createTorchs();\r\n        this.createPlayerGroup();\r\n        this.createTeams();\r\n        this.createFlags();\r\n        this.createItem('barrel');\r\n        this.createMiniMap();\r\n    }\r\n\r\n    createItem(item) {\r\n      var group = this.game.add.group();\r\n      group.enableBody = true;\r\n\r\n      var result = this.objects.byType(item, 'objectsLayer');\r\n      result.forEach(function (element) {\r\n          var sprite = group.create(element.x, element.y, item);\r\n          sprite.anchor.setTo(0.5, 0.5);\r\n      }, this);\r\n\r\n      this.objects.set(item + 's', group);\r\n    }\r\n\r\n    createMiniMap() {\r\n      this.map = this.objects.get('map');\r\n      this.miniMapSize = 2;\r\n\r\n      var miniMapBmd = this.game.add.bitmapData();\r\n\r\n      for (var l = 0; l<this.map.layers.length; l++) {\r\n        for (var y = 0; y < this.map.height; y++) {\r\n          for (var x = 0; x < this.map.width; x++) {\r\n            var tile = this.map.getTile(x, y, l);\r\n            if (tile && this.map.layers[l].name == 'background') {\r\n              miniMapBmd.ctx.fillStyle = '#1D2A34';\r\n              miniMapBmd.ctx.fillRect(x * this.miniMapSize, y * this.miniMapSize, this.miniMapSize, this.miniMapSize);\r\n             }else if (tile && this.map.layers[l].name == 'water') {\r\n              miniMapBmd.ctx.fillStyle = '#0000ff';\r\n              miniMapBmd.ctx.fillRect(x * this.miniMapSize, y * this.miniMapSize, this.miniMapSize, this.miniMapSize);\r\n            }else if (tile && this.map.layers[l].name == 'obstacle') {\r\n               miniMapBmd.ctx.fillStyle = '#cccccc';\r\n               miniMapBmd.ctx.fillRect(x * this.miniMapSize, y * this.miniMapSize, this.miniMapSize, this.miniMapSize);\r\n             }\r\n           }\r\n         }\r\n       }\r\n       this.miniMap = this.game.add.sprite(10,390, miniMapBmd);\r\n       this.miniMap.fixedToCamera = true;\r\n\r\n       var miniMapOverlayBmd = this.game.add.bitmapData();\r\n       this.miniMapOverlay = this.game.add.sprite(10,390, miniMapOverlayBmd);\r\n       this.miniMapOverlay.fixedToCamera = true;\r\n\r\n       this.objects.set('miniMapOverlay', miniMapOverlayBmd);\r\n       this.objects.set('miniMapSize', this.miniMapSize);\r\n    }\r\n\r\n\r\n    createTeams() {\r\n        for (var teamName in config.game.teams) {\r\n            var team = new Team(teamName);\r\n            this.teamManager.add(team);\r\n            this.createPlayersForTeam(team);\r\n        }\r\n\r\n    }\r\n\r\n    createPlayersForTeam(team) {\r\n        var spawns = this.objects.byProperties({'type': 'spawn', team: team.name}, 'objectsLayer');\r\n\r\n        for (var i in config.game.teams[team.name]) {\r\n            var playerNumber = config.game.teams[team.name][i];\r\n\r\n            const spawn = _.find(spawns, function (current_spawn) {\r\n                return current_spawn.properties.player == playerNumber;\r\n            });\r\n\r\n            const player = this.playerFactory\r\n                .position(spawn)\r\n                .team(team)\r\n                .number(playerNumber)\r\n                .key('player')\r\n                .make();\r\n\r\n            this.objects.set('player.' + playerNumber, player);\r\n\r\n        }\r\n    }\r\n\r\n    createTorchs() {\r\n        var torchGroup = this.game.add.group();\r\n        torchGroup.enableBody = true;\r\n\r\n        var result = this.objects.byType('torch', 'objectsLayer');\r\n        result.forEach(function (element) {\r\n            var torch = torchGroup.create(element.x, element.y, \"torch\");\r\n            torch.animations.add('on', [0, 1, 2, 3], 10, true);\r\n            torch.animations.play('on');\r\n        }, this);\r\n    }\r\n\r\n    createFlags() {\r\n        for (var teamName in config.game.teams) {\r\n            var flagGroup = this.game.add.group();\r\n            flagGroup.enableBody = true;\r\n            var flags = this.objects.byProperties({'type': 'flag_' + teamName}, 'objectsLayer');\r\n\r\n            flags.forEach(function (element) {\r\n               var flag = new Flag(this.game, element.x, element.y, 'flag');\r\n                flag.setTeam(teamName);\r\n                flagGroup.add(flag);\r\n            }, this);\r\n\r\n            this.objects.set('flags.'+teamName, flagGroup);\r\n        }\r\n    }\r\n\r\n    createPlayerGroup() {\r\n        var playerGroup = this.game.add.group();\r\n        playerGroup.enableBody = true;\r\n\r\n        this.objects.set('playerGroup', playerGroup);\r\n    }\r\n\r\n    createControls() {\r\n        this.cursors = this.inputs.cursorKeys();\r\n        this.wasd = this.inputs.wasd();\r\n\r\n        this.game.input.keyboard.removeKeyCapture(Phaser.Keyboard.One);\r\n    }\r\n\r\n}\r\n","import direction from './../objects/values/direction';\r\n\r\nexport default class InputService {\r\n    constructor(game) {\r\n        this.game = game;\r\n\r\n        this.inputs = {};\r\n\r\n    }\r\n\r\n    cursorKeys() {\r\n        if (!this.inputs.cursorKeys) {\r\n            this.inputs.cursorKeys = this.game.input.keyboard.createCursorKeys();\r\n        }\r\n\r\n        return this.inputs.cursorKeys;\r\n    }\r\n\r\n    wasd() {\r\n        if (!this.inputs.wasd) {\r\n            this.inputs.wasd = {\r\n                up: this.game.input.keyboard.addKey(Phaser.Keyboard.W),\r\n                down: this.game.input.keyboard.addKey(Phaser.Keyboard.S),\r\n                left: this.game.input.keyboard.addKey(Phaser.Keyboard.A),\r\n                right: this.game.input.keyboard.addKey(Phaser.Keyboard.D),\r\n            };\r\n        }\r\n\r\n        return this.inputs.wasd;\r\n    }\r\n\r\n    space() {\r\n      if (!this.inputs.space) {\r\n          this.inputs.space = this.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR);\r\n      }\r\n\r\n      return this.inputs.space;\r\n    }\r\n\r\n    applyToPlayer(player){\r\n      player.body.velocity.x = 0;\r\n      player.body.velocity.y = 0;\r\n\r\n      if (this.cursorKeys().up.isDown || this.wasd().up.isDown) {\r\n        player.direction = direction.UP;\r\n        player.angle = -90;\r\n        player.body.velocity.y -= player.speed;\r\n        player.animations.play('walk');\r\n        player.updateName();\r\n      }\r\n      else if (this.cursorKeys().down.isDown || this.wasd().down.isDown) {\r\n        player.direction = direction.BOTTOM\r\n        player.angle = 90;\r\n        player.body.velocity.y += player.speed;\r\n        player.animations.play('walk');\r\n        player.updateName();\r\n      }\r\n      else if (this.cursorKeys().left.isDown || this.wasd().left.isDown) {\r\n        player.direction = direction.LEFT;\r\n        player.angle = 180;\r\n        player.body.velocity.x -= player.speed;\r\n        player.animations.play('walk');\r\n        player.updateName();\r\n      }\r\n      else if (this.cursorKeys().right.isDown || this.wasd().right.isDown) {\r\n        player.direction = direction.RIGHT;\r\n        player.angle = 0;\r\n        player.body.velocity.x += player.speed;\r\n        player.animations.play('walk');\r\n        player.updateName();\r\n      }else {\r\n        player.animations.stop();\r\n        player.frame = 0;\r\n      }\r\n  }\r\n}\r\n","export default class NetworkService {\r\n\r\n    constructor($container) {\r\n        this.$container = $container;\r\n        this.objects = $container.ObjectsService;\r\n        this.playerFactory = $container.PlayerFactory;\r\n        this.teamManager = $container.TeamManager;\r\n        this.socket = io();\r\n        this.player = null;\r\n        this.players = {}; // workaround, should not be here I guess\r\n\r\n        this.waitForHandshake = function(){\r\n\r\n        }\r\n    }\r\n\r\n    init() {\r\n        this.socket.on('PlayerConnectEvent', player => {\r\n            this.onPlayerConnect(player);\r\n        });\r\n\r\n        this.socket.on('PlayerDisconnectEvent', player => {\r\n            this.onPlayerDisconnect(player);\r\n        });\r\n\r\n        this.socket.on('PlayerPositionEvent', player => {\r\n            this.onPlayerPosition(player);\r\n        });\r\n\r\n        this.socket.on('PlayerShootEvent', data => {\r\n            this.onPlayerShoot(data);\r\n        });\r\n\r\n        this.socket.on('PlayerHandshakeEvent', player => {\r\n            this.onPlayerHandshake(player);\r\n        });\r\n\r\n        this.connect();\r\n    }\r\n\r\n    connect() {\r\n        console.log('connect network');\r\n        this.socket.emit('PlayerConnectEvent');\r\n    }\r\n\r\n    onPlayerHandshake(networkPlayer) {\r\n        const player = this.teamManager.allPlayers()[networkPlayer.slot];\r\n        this.teamManager.hero = player;\r\n        this.waitForHandshake(player);\r\n    }\r\n\r\n\r\n    onPlayerConnect(networkPlayer) {\r\n        this.players[networkPlayer.id] = this.teamManager.allPlayers()[networkPlayer.slot];\r\n    }\r\n\r\n    onPlayerDisconnect(networkPlayer) {\r\n        const playerSprite = this.players[networkPlayer.id];\r\n\r\n        if (playerSprite) {\r\n            playerSprite.kill();\r\n            playerSprite.name.kill();\r\n        }\r\n    }\r\n\r\n    onPlayerPosition(networkPlayer) {\r\n        console.log('move player', networkPlayer.id);\r\n\r\n        const playerSprite = this.players[networkPlayer.id];\r\n        playerSprite.x = networkPlayer.position.x;\r\n        playerSprite.y = networkPlayer.position.y;\r\n        //playerSprite.direction = networkPlayer.position.direction;\r\n\r\n        playerSprite.updateName();\r\n    }\r\n\r\n    onPlayerShoot(data) {\r\n        var player = this.teamManager.allPlayers()[data.slot];\r\n\r\n        console.log('shoot over network', data);\r\n        player.shoot(data.direction);\r\n\r\n    }\r\n\r\n    sendPosition(player) {\r\n        var position = {\r\n            direction:player.direction,\r\n            x: player.x,\r\n            y: player.y\r\n        };\r\n\r\n        this.socket.emit('PlayerPositionEvent', position);\r\n    }\r\n\r\n    sendShoot(player) {\r\n        var data = {\r\n            direction:player.direction,\r\n            x: player.x,\r\n            y: player.y\r\n        };\r\n\r\n        console.log('send shoot', data);\r\n\r\n\r\n        this.socket.emit('PlayerShootEvent', data);\r\n    }\r\n\r\n}\r\n","export default class ObjectsService {\r\n    constructor(game) {\r\n        this.collection = {};\r\n    }\r\n\r\n    set(name, value) {\r\n\r\n        return _.set(this.collection, name, value);\r\n    }\r\n\r\n    byType(type, layer) {\r\n        return this.byProperties({'type': type}, layer);\r\n    }\r\n\r\n    byProperties(properties, layer) {\r\n        var result = [];\r\n        this.map().objects[layer].forEach((element) => {\r\n            if (element.properties && this.objectHasProperties(element, properties)) {\r\n                element.y += 64;\r\n                result.push(element);\r\n            }\r\n\r\n        });\r\n        return result;\r\n    }\r\n\r\n    objectHasProperties(object, properties) {\r\n        for (var key in properties) {\r\n            if (!properties.hasOwnProperty(key)) {\r\n                continue;\r\n            }\r\n\r\n            const hasAttribute = object[key] && properties[key] == object[key];\r\n            const hasProperty = properties[key] == object.properties[key];\r\n\r\n            if (hasAttribute || hasProperty) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    get(name) {\r\n        return _.get(this.collection, name);\r\n    }\r\n\r\n    map() {\r\n        return this.get('map');\r\n    }\r\n\r\n}\r\n","export default class PathService {\r\n    constructor() {\r\n\r\n    }\r\n\r\n    image(imageName) {\r\n        return 'assets/images/' + imageName;\r\n    }\r\n}","export default class Preloader {\r\n\r\n    constructor(game, $container) {\r\n        this.game = game;\r\n        this.$container = $container;\r\n        this.paths = $container.PathService;\r\n    }\r\n\r\n    run(gamestate) {\r\n        this.game.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;\r\n\r\n        gamestate.load.tilemap('map', 'assets/tilemaps/map_philipp.json', null, Phaser.Tilemap.TILED_JSON);\r\n        gamestate.load.image('dungeon_tileset_64', 'assets/images/dungeon_tileset_64.png');\r\n        gamestate.load.image('objects_tilset_64', 'assets/images/objects_tilset_64.png');\r\n        this.game.load.image('bullet', this.paths.image('flamer_projectile.png'));\r\n        this.game.load.atlas('explosion', 'assets/images/fireball_hit.png', 'assets/images/fireball_hit.json');\r\n        this.game.load.atlas('fireball', 'assets/images/fireball.png', 'assets/images/fireball.json');\r\n        this.game.load.atlas('onfireanimation', 'assets/images/onfireanimation.png', 'assets/images/onfireanimation.json');\r\n        this.game.load.atlas('flame_a', 'assets/images/flame_a.png', 'assets/images/flame_a.json');\r\n        this.game.load.spritesheet('torch', 'assets/images/torch.png', 64, 64);\r\n        this.game.load.spritesheet('water', 'assets/images/water.png', 32, 32);\r\n        this.game.load.spritesheet('waterStone', 'assets/images/waterStone.png', 32, 32);\r\n        this.game.load.spritesheet('player', this.paths.image('green_male_marine_flamer.png'), 46, 26);\r\n        this.game.load.spritesheet('player_shoot', this.paths.image('green_male_marine_flamer_shoot.png'), 52, 26);\r\n        this.game.load.spritesheet('flag', 'assets/images/flag.png', 64, 64);\r\n\r\n        this.loadItems();\r\n    }\r\n\r\n    loadItems() {\r\n      this.game.load.image('barrel', this.paths.image('barrel.png'));\r\n    }\r\n\r\n}\r\n","import State from './State';\r\nimport Hero from './../objects/sprites/Hero';\r\nimport Player from './../objects/sprites/Player';\r\nimport TestCup from './../objects/sprites/TestCup';\r\nimport PlayerFactory from './../factories/PlayerFactory';\r\n\r\nexport default class GameState extends State {\r\n    constructor(game, $container) {\r\n        super();\r\n\r\n        this.player = null;\r\n\r\n        this.inputs = $container.InputService;\r\n        this.paths = $container.PathService;\r\n        this.objects = $container.ObjectsService;\r\n        this.preloader = $container.Preloader;\r\n        this.creator = $container.Creator;\r\n        this.playerFactory = $container.PlayerFactory;\r\n        this.network = $container.NetworkService;\r\n        window.clashOfFlags = this; // Publish GameState to window, Vue App needs to access pause() and unpause()\r\n        this.teamManager = $container.TeamManager;\r\n    }\r\n\r\n    preload() {\r\n        this.preloader.run(this);\r\n\r\n    }\r\n\r\n    create() {\r\n        this.initPauseState();\r\n        this.createMap();\r\n\r\n        this.creator.run();\r\n        this.createControls();\r\n\r\n        this.network.init();\r\n\r\n        this.network.waitForHandshake = (hero)=> {\r\n            console.log('waited for handshake', hero);\r\n            this.player = hero;\r\n            this.game.camera.follow(this.player);\r\n            this.objects.set('hero', hero);\r\n        }\r\n\r\n        this.miniMapOverlay = this.objects.get('miniMapOverlay');\r\n        this.miniMapSize = this.objects.get('miniMapSize');\r\n\r\n\r\n    }\r\n\r\n    update() {\r\n        if (!this.player)\r\n            return;\r\n\r\n        this.game.physics.arcade.collide(this.player, this.obstacleLayer);\r\n        this.game.physics.arcade.collide(this.player, this.waterlayer);\r\n        this.game.physics.arcade.collide(this.player, this.objects.get('barrels'));\r\n        this.game.physics.arcade.overlap(this.player.weapon.bullets, this.objects.get('barrels'), this.bulletHitBarrel, null, this);\r\n        this.game.physics.arcade.collide(this.objects.get('barrels'), this.obstacleLayer);\r\n        this.game.physics.arcade.collide(this.player.weapon.bullets, this.obstacleLayer, this.bulletHitObstacle, null, this);\r\n\r\n        this.game.physics.arcade.collide(this.player, this.objects.get('playerGroup'));\r\n        this.game.physics.arcade.collide(this.player.weapon.bullets, this.objects.get('playerGroup'));\r\n\r\n        this.game.physics.arcade.collide(this.player.weapon.bullets, this.players, this.bulletHitPlayer, null, this);\r\n        this.game.physics.arcade.collide(this.player, this.players);\r\n\r\n        this.flagRedGroup = this.objects.get('flags.red');\r\n        this.game.physics.arcade.overlap(this.player, this.flagRedGroup, this.playerCollectsFlag, null, this);\r\n\r\n        this.flagBlueGroup = this.objects.get('flags.blue');\r\n        this.game.physics.arcade.overlap(this.player, this.flagBlueGroup, this.playerCollectsFlag, null, this);\r\n\r\n        this.inputs.applyToPlayer(this.player);\r\n        this.network.sendPosition(this.player);\r\n\r\n        this.updateMiniMap();\r\n    }\r\n\r\n    updateMiniMap() {\r\n\r\n      this.miniMapOverlay.context.clearRect(0, 0, this.miniMapOverlay.width, this.miniMapOverlay.height);\r\n\r\n      for (var i = 0; i < this.teamManager.teams[this.player.team.name].players.length; i++) {\r\n        var teamPlayer = this.teamManager.teams[this.player.team.name].players[i];\r\n        var color = '#0AFF12';\r\n\r\n        if(teamPlayer === this.player){\r\n          color = '#FFFF00';\r\n        }\r\n\r\n        this.miniMapOverlay.rect(\r\n          Math.floor(teamPlayer.x / 64) * this.miniMapSize,\r\n          Math.floor(teamPlayer.y / 64) * this.miniMapSize,\r\n          this.miniMapSize * 2, this.miniMapSize * 2, color);\r\n        this.miniMapOverlay.dirty = true;\r\n      }\r\n    }\r\n\r\n    bulletHitBarrel(bullet, barrel) {\r\n      this.bulletHitObstacle(bullet);\r\n\r\n      this.createExplosionAnimation({\r\n        x: barrel.x,\r\n        y: barrel.y - barrel.height,\r\n        key: 'flame_a',\r\n        frameName: 'flame_a_000',\r\n        frameNameMax: 6,\r\n        frameSpeed:60,\r\n        repeat: false,\r\n        scale: 0.4\r\n      });\r\n      barrel.kill();\r\n    }\r\n\r\n    createExplosionAnimation(data) {\r\n      var sprite = this.game.add.sprite(data.x, data.y, data.key);\r\n      sprite.anchor.setTo(0.5, 0.5);\r\n      sprite.scale.x = data.scale;\r\n      sprite.scale.y = data.scale;\r\n      sprite.animations.add('animation', Phaser.Animation.generateFrameNames(data.frameName, 1, data.frameNameMax), data.frameSpeed, data.repeat);\r\n      sprite.animations.play('animation');\r\n\r\n      sprite.events.onAnimationComplete.add(function () {\r\n          sprite.kill();\r\n      }, this);\r\n    }\r\n\r\n    bulletHitObstacle(bullet) {\r\n      this.createExplosionAnimation({\r\n        x: bullet.x,\r\n        y: bullet.y,\r\n        key: 'explosion',\r\n        frameName: 'fireball_hit_000',\r\n        frameNameMax: 9,\r\n        frameSpeed:100,\r\n        repeat: false,\r\n        scale: 1\r\n      });\r\n      bullet.kill();\r\n    }\r\n\r\n    bulletHitPlayer(bullet, player) {\r\n        var singleExplosion = this.explosions.getFirstDead();\r\n        singleExplosion = this.explosions.create(bullet.body.x, bullet.body.y, 'explosion');\r\n        singleExplosion.animations.add('fire', Phaser.Animation.generateFrameNames('fireball_hit_000', 1, 9), 100, false);\r\n        singleExplosion.animations.play('fire');\r\n\r\n        singleExplosion.events.onAnimationComplete.add(function () {\r\n            singleExplosion.kill();\r\n        }, this);\r\n\r\n        bullet.kill();\r\n    }\r\n\r\n    playerCollectsFlag(player, flag) {\r\n        flag.collectFlag(player);\r\n    }\r\n\r\n    createMap() {\r\n        this.game.world.setBounds(0, 0, 6400, 6400);\r\n\r\n        this.objects.set('map', this.game.add.tilemap('map'));\r\n        this.map = this.objects.get('map');\r\n\r\n        //the first parameter is the tileset name as specified in Tiled, the second is the key to the asset\r\n        this.map.addTilesetImage('dungeon_tileset_64');\r\n        this.map.addTilesetImage('objects_tilset_64');\r\n\r\n        //create layer\r\n        this.backgroundlayer = this.map.createLayer('background');\r\n        this.waterlayer = this.map.createLayer('water');\r\n        this.obstacleLayer = this.map.createLayer('obstacle');\r\n        this.decorationslayer = this.map.createLayer('decorations');\r\n\r\n        this.backgroundlayer.resizeWorld();\r\n        this.waterlayer.resizeWorld();\r\n        this.obstacleLayer.resizeWorld();\r\n        this.decorationslayer.resizeWorld();\r\n\r\n        //collision on obstacleLayer\r\n        this.map.setCollisionBetween(1, 2000, true, 'obstacle');\r\n        this.map.setCollisionBetween(1, 2000, true, 'water');\r\n    }\r\n\r\n\r\n    createControls() {\r\n        this.cursors = this.inputs.cursorKeys();\r\n        this.wasd = this.inputs.wasd();\r\n        this.space = this.inputs.space();\r\n\r\n        this.game.input.keyboard.removeKeyCapture(Phaser.Keyboard.One);\r\n\r\n        this.space.onDown.add(() => {\r\n            this.player.shoot();\r\n            this.network.sendShoot(this.player);\r\n        });\r\n    }\r\n\r\n    pause() {\r\n        this.game.input.enabled = false;\r\n        this.game.physics.arcade.isPaused = true;\r\n    }\r\n\r\n    unpause() {\r\n        this.game.input.enabled = true;\r\n        this.game.physics.arcade.isPaused = false;\r\n    }\r\n\r\n    initPauseState() {\r\n        const isGameDivVisible = $('#game').is(':visible');\r\n\r\n        if (isGameDivVisible) {\r\n            this.unpause();\r\n            return;\r\n        }\r\n\r\n        this.pause();\r\n    }\r\n\r\n}\r\n","export default class State {\r\n    constructor(game, $container) {\r\n        this.game = game;\r\n        this.$container = $container;\r\n    }\r\n\r\n    preload() {\r\n\r\n    }\r\n\r\n    create() {\r\n\r\n    }\r\n\r\n    update() {\r\n\r\n    }\r\n}","import Builder from './Builder';\r\n\r\nexport default class AbstractFactory {\r\n    constructor(game){\r\n        this.game = game;\r\n        this.rebuild();\r\n    }\r\n\r\n    rebuild() {\r\n        this.builder = new Builder();\r\n\r\n    }\r\n\r\n    set(key, value) {\r\n        this.builder.set(key, value);\r\n        return this;\r\n    }\r\n\r\n    get(key, defaultValue) {\r\n        return this.builder.get(key, defaultValue);\r\n    }\r\n\r\n    has(key) {\r\n        return this.builder.has(key);\r\n    }\r\n\r\n    validate() {\r\n        this.assertThatRequiredFieldsAreSet();\r\n    }\r\n\r\n    assertThatRequiredFieldsAreSet() {\r\n        if (!this.required) {\r\n            return true;\r\n        }\r\n\r\n        for (var i in this.required) {\r\n            const key = this.required[i];\r\n\r\n            if (!this.has(key)) {\r\n                throw new Error('Cannot build ' + this.constructor.name + ', \"' + key + '\" is missing.');\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    make() {\r\n        this.validate();\r\n\r\n        const object = this.doMake();\r\n\r\n        this.rebuild();\r\n\r\n        return object;\r\n    }\r\n\r\n}","export default class Builder {\r\n    constructor() {\r\n        this.attributes = {};\r\n    }\r\n\r\n    get(key, defaultValue) {\r\n        if(!this.has(key)){\r\n            return defaultValue;\r\n        }\r\n\r\n        return this.attributes[key];\r\n    }\r\n\r\n    set(key, value) {\r\n        this.attributes[key] = value;\r\n    }\r\n\r\n    has(key) {\r\n        return this.attributes.hasOwnProperty(key);\r\n    }\r\n}","import AbstractFactory from './AbstractFactory';\r\nimport Builder from './Builder';\r\nimport Player from './../objects/sprites/Player';\r\n\r\nexport default class PlayerFactory extends AbstractFactory {\r\n\r\n    constructor(game, $container) {\r\n        super(game);\r\n        this.required = ['key', 'position', 'team', 'number'];\r\n        this.objects = $container.ObjectsService;\r\n    }\r\n\r\n    team(team) {\r\n        return this.set('team', team);\r\n    }\r\n\r\n    position(position) {\r\n        return this.set('position', position);\r\n    }\r\n\r\n    scale(factor) {\r\n        return this.set('scale', factor);\r\n    }\r\n\r\n    key(key) {\r\n        return this.set('key', key);\r\n    }\r\n\r\n    number(number) {\r\n        return this.set('number', number);\r\n    }\r\n\r\n    doMake() {\r\n        const player = new Player(this.game, this.get('position').x, this.get('position').y, this.get('key'));\r\n\r\n        player.scale.x = this.get('scale', 1.5);\r\n        player.scale.y = this.get('scale', 1.5);\r\n\r\n        player.anchor.setTo(0.5, 0.5);\r\n\r\n        player.animations.add('walk', [0, 1, 2, 3], 12, true);\r\n\r\n        this.get('team').addPlayer(player);\r\n        player.team = this.get('team');\r\n        player.number = this.get('number');\r\n\r\n        var style = { font: \"16px Arial\", fill: (player.team.name == \"red\") ? \"#f00\" : \"#00f\", align: \"center\", width: player.width};\r\n\r\n        player.name = this.game.add.text(0, 0, \"Player \" + this.get('number') + ' ' + + this.get('networkId'), style);\r\n        player.name.anchor.setTo(0.5, 0.5);\r\n        player.updateName();\r\n        player.health = 100;\r\n\r\n        var playerGroup = this.objects.get('playerGroup');\r\n        playerGroup.add(player);\r\n\r\n        return player;\r\n    }\r\n\r\n}\r\n","import Bootstrapper from './setup/Bootstrapper';\r\n\r\nBootstrapper.bootstrap();","import Sprite from './Sprite';\r\nimport config from '../../setup/config';\r\n\r\n\r\nexport default class Bullet extends Sprite{\r\n  boot() {\r\n    this.enableArcadePhysics();\r\n    this.checkWorldBounds = true;\r\n    this.outOfBoundsKill = true;\r\n\r\n    this.game.time.events.add(Phaser.Timer.SECOND * config.game.weapons[this.key].lifetime, this.killBullet, this);\r\n  }\r\n\r\n  killBullet() {\r\n    this.kill();\r\n  }\r\n\r\n}\r\n","import Sprite from './Sprite';\r\nimport config from '../../setup/config';\r\n\r\n\r\nexport default class Flag extends Sprite{\r\n    boot() {\r\n        this.enableArcadePhysics();\r\n        this.checkWorldBounds = true;\r\n        this.outOfBoundsKill = true;\r\n\r\n        this.team = 'none';\r\n\r\n    }\r\n\r\n    collectFlag(player) {\r\n        if(player.team.name != this.team && player.carryingFlag == false) {\r\n            this.kill();\r\n            player.getFlag();\r\n        }\r\n    }\r\n\r\n    setTeam(team) {\r\n        this.team = team;\r\n    }\r\n\r\n}\r\n","import Player from './Player';\r\n\r\nexport default class Hero extends Player {\r\n\r\n}\r\n","import Sprite from './Sprite';\r\nimport direction from './../values/direction';\r\nimport Weapon from './../values/Weapon';\r\n\r\nexport default class Player extends Sprite {\r\n    boot() {\r\n        this.speed = 400;\r\n        this.enableArcadePhysics();\r\n        this.body.collideWorldBounds = true;\r\n        this.direction = direction.RIGHT;\r\n        this.weapon = new Weapon(this, this.game);\r\n        this.number = 1;\r\n        this.networkId = null;\r\n        this.carryingFlag = false;\r\n    }\r\n\r\n    collect(item) {\r\n        item.kill();\r\n    }\r\n\r\n    shoot(overwriteDirection) {\r\n        this.weapon.shoot(overwriteDirection);\r\n    }\r\n\r\n    changeSpriteToNormal() {\r\n      this.player.loadTexture('player', 0, true);\r\n    }\r\n\r\n    updateName() {\r\n      this.name.x = this.x;\r\n      this.name.y = this.y - this.height * 1.2; \r\n    }\r\n\r\n    getFlag() {\r\n        this.carryingFlag = true;\r\n    }\r\n\r\n    releaseFlag() {\r\n        this.carryingFlag = false;\r\n    }\r\n}\r\n","export default class Sprite extends Phaser.Sprite {\r\n    constructor(game, x, y, key, frame) {\r\n        super(game, x, y, key, frame);\r\n\r\n        this.key = key;\r\n        this.game.stage.addChild(this);\r\n        this.game.add.existing(this);\r\n\r\n        this.boot();\r\n    }\r\n\r\n    boot() {\r\n        // Overwrite me from parent\r\n    }\r\n\r\n    enableArcadePhysics() {\r\n        return this.game.physics.arcade.enable(this);\r\n    }\r\n\r\n    options() {\r\n        return {\r\n        };\r\n    }\r\n}\r\n","import Sprite from './Sprite';\r\n\r\nexport default class TestCup {\r\n\r\n}","export default class Team {\r\n    constructor(name) {\r\n        this.name = name;\r\n        this.players = [];\r\n    }\r\n\r\n    addPlayer(player) {\r\n        this.players.push(player);\r\n    }\r\n\r\n}","import Bullet from '../sprites/Bullet';\r\nimport direction from './direction';\r\nimport config from '../../setup/config';\r\n\r\nexport default class Weapon {\r\n    constructor(player, game) {\r\n        this.game = game;\r\n        this.player = player;\r\n        this.nextShotAt = Date.now() + config.game.weapons.fireball.shotDelay;\r\n\r\n        this.bullets = game.add.group();\r\n        this.bullets.enableBody = true;\r\n        this.bullets.physicsBodyType = Phaser.Physics.ARCADE;\r\n\r\n        this.weapon = 'fireball';\r\n\r\n    }\r\n\r\n    shoot(overwriteDirection = null) {\r\n        if (this.nextShotAt > Date.now()) {\r\n            return;\r\n        }\r\n\r\n        var shootDirection = (overwriteDirection) ? overwriteDirection : this.player.direction;\r\n\r\n        this.nextShotAt = Date.now() + config.game.weapons.fireball.shotDelay;\r\n\r\n        this.player.loadTexture('player_shoot', 0, true);\r\n        this.game.time.events.add(Phaser.Timer.SECOND * 0.2, this.player.changeSpriteToNormal, this);\r\n\r\n        var bullet = new Bullet(this.game, this.player.body.center.x, this.player.body.center.y, this.weapon);\r\n        bullet.animations.add(this.weapon, Phaser.Animation.generateFrameNames(this.weapon + '_000', 1, 6), 60, true);\r\n        bullet.animations.play(this.weapon);\r\n        bullet.anchor.setTo(0.5, 0.5);\r\n\r\n        if (shootDirection === direction.BOTTOM) {\r\n            bullet.body.velocity.y = config.game.weapons[this.weapon].bulletSpeed;\r\n            bullet.angle = 180;\r\n        } else if (shootDirection === direction.UP) {\r\n            bullet.angle = 0;\r\n            bullet.body.velocity.y = -config.game.weapons[this.weapon].bulletSpeed;\r\n        } else if (shootDirection === direction.RIGHT) {\r\n            bullet.angle = 90;\r\n            bullet.body.velocity.x = config.game.weapons[this.weapon].bulletSpeed;\r\n        } else if (shootDirection === direction.LEFT) {\r\n            bullet.angle = -90;\r\n            bullet.body.velocity.x = -config.game.weapons[this.weapon].bulletSpeed;\r\n        }\r\n\r\n        this.bullets.add(bullet);\r\n    }\r\n}\r\n","export default {\r\n    TOP: 'top',\r\n    BOTTOM: 'bottom',\r\n    RIGHT: 'right',\r\n    LEFT: 'left'\r\n}","export default class TeamManager {\r\n    constructor(game, $container) {\r\n        this.game = game;\r\n        this.$container = $container;\r\n        this.teams = {};\r\n        this.hero = null;\r\n    }\r\n\r\n    add(team) {\r\n        this.teams[team.name] = team;\r\n    }\r\n\r\n\r\n    findPlayer(number) {\r\n        //TODO: iterate through teams and search for player with the number number\r\n    }\r\n\r\n    allPlayers() {\r\n        var players = {};\r\n\r\n        for (var teamName in this.teams) {\r\n            for (var i in this.teams[teamName].players) {\r\n                var player = this.teams[teamName].players[i];\r\n\r\n                players[player.number] = player;\r\n            }\r\n        }\r\n\r\n\r\n\r\n        return players;\r\n\r\n    }\r\n\r\n    findFreePlayer() {\r\n        const allPlayers = this.allPlayers()\r\n        for (var i in allPlayers) {\r\n            const player = allPlayers[i];\r\n\r\n            if (!player.networkId) {\r\n                return player;\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n}","import GameState from './../States/GameState';\r\nimport InputService from './../Services/InputService';\r\nimport PathService from './../Services/PathService';\r\nimport Preloader from './../Services/Preloader';\r\nimport Creator from './../Services/Creator';\r\nimport ObjectsService from './../Services/ObjectsService';\r\nimport NetworkService from './../Services/NetworkService';\r\nimport PlayerFactory from './../factories/PlayerFactory';\r\nimport TeamManager from './../services/TeamManager';\r\nimport config from './config';\r\n\r\n\r\nexport default class Bootstrapper {\r\n    constructor() {\r\n        this.bottle = {};\r\n        this.game = {};\r\n    }\r\n\r\n    run() {\r\n        this.bottle = new Bottle();\r\n        this.game = new Phaser.Game(config.game.size.width, config.game.size.height, Phaser.AUTO, 'game');\r\n\r\n        this.registerBindings();\r\n\r\n        this.game.state.add('Game', this.bottle.container.GameState);\r\n        this.game.state.start('Game');\r\n    }\r\n\r\n    registerBindings() {\r\n        this.bottle.service('$container', () => this.bottle.container);\r\n        this.bottle.service('game', () => this.game);\r\n        this.bottle.service('config', () => config);\r\n        this.bottle.service('InputService', InputService, 'game');\r\n        this.bottle.service('PathService', PathService);\r\n        this.bottle.service('ObjectsService', ObjectsService, 'game');\r\n        this.bottle.service('NetworkService', NetworkService, '$container');\r\n        this.bottle.service('PlayerFactory', PlayerFactory, 'game', '$container');\r\n        this.bottle.service('Preloader', Preloader, 'game', '$container');\r\n        this.bottle.service('TeamManager', TeamManager, 'game', '$container');\r\n        this.bottle.service('Creator', Creator, 'game', '$container');\r\n        this.bottle.service('GameState', GameState, 'game', '$container');\r\n    }\r\n\r\n\r\n    static bootstrap() {\r\n        return (new Bootstrapper()).run();\r\n    }\r\n}\r\n\r\n\r\n\r\n","export default{\r\n    game: {\r\n        size: {\r\n            width: 800,\r\n            height: 600\r\n        },\r\n        teams: {\r\n            'red': [1, 2, 3, 4, 5],\r\n            'blue': [6, 7, 8, 9, 10]\r\n        },\r\n        weapons: {\r\n          'fireball': {\r\n            bulletSpeed: 600,\r\n            lifetime: 2.5,\r\n            shotDelay: 300\r\n          }\r\n        }\r\n    }\r\n}\r\n"]}